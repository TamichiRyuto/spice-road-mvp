# GCP Authentication Configuration for Terraform
# Copy this file to .env and fill in your actual values
# IMPORTANT: .env file is gitignored and should NEVER be committed

# ==============================================================================
# Primary Authentication (Required)
# ==============================================================================

# RECOMMENDED: Application Default Credentials (ADC)
# Path to your GCP service account key JSON file
# See: https://cloud.google.com/docs/terraform/authentication
export GOOGLE_APPLICATION_CREDENTIALS="/path/to/your/service-account-key.json"

# ALTERNATIVE: Use gcloud CLI authentication (for development)
# Run: gcloud auth application-default login
# Then comment out GOOGLE_APPLICATION_CREDENTIALS above

# ==============================================================================
# GCP Project Configuration (Required)
# ==============================================================================

# Your GCP Project ID
export GOOGLE_PROJECT="your-gcp-project-id"

# Default region for resources
export GOOGLE_REGION="asia-northeast1"

# ==============================================================================
# Terraform State Backend (Required for terraform init)
# ==============================================================================

# GCS bucket for Terraform state storage
# Create with: ./scripts/create-state-bucket.sh
# Format: {project-id}-terraform-state
export TF_BACKEND_BUCKET="your-gcp-project-id-terraform-state"

# ==============================================================================
# Terraform Configuration (Optional)
# ==============================================================================

# Terraform workspace
# TF_WORKSPACE="default"

# ==============================================================================
# Additional GCP Configuration (Optional)
# ==============================================================================

# OAuth 2.0 access token (temporary, expires in 1 hour)
# Use service account key for longer access
# GOOGLE_OAUTH_ACCESS_TOKEN="your-oauth-token"

# Impersonation service account (if using impersonation)
# GOOGLE_IMPERSONATE_SERVICE_ACCOUNT="sa@project.iam.gserviceaccount.com"

# ==============================================================================
# Security Notes
# ==============================================================================
#
# 1. Service Account Key Security:
#    - Service account keys are a security risk if not managed correctly
#    - Consider using Workload Identity Federation for production
#    - Never commit keys to version control
#
# 2. Alternative Authentication Methods (More Secure):
#    - Application Default Credentials (ADC) - gcloud auth
#    - Workload Identity Federation (keyless)
#    - Service Account Impersonation
#
# 3. Best Practices:
#    - Rotate service account keys regularly
#    - Use least privilege IAM roles
#    - Store keys securely (e.g., secret management system)
#    - Use different service accounts for different environments
#
# References:
# - GCP Terraform Authentication: https://cloud.google.com/docs/terraform/authentication
# - Terraform Google Provider: https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference
